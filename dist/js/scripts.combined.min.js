const PubSub={_subscribers:{},subscribe(o,e){this._subscribers[o]||(this._subscribers[o]=[]);const a=this._subscribers[o].push(e)-1;return{unsubscribe:()=>{this._subscribers[o].splice(a,1),0===this._subscribers[o].length&&delete this._subscribers[o]}}},publish(o,e){this._subscribers[o]&&this._subscribers[o].forEach((a=>{try{a(e)}catch(e){console.error(`Erro em um subscriber do evento ${o}:`,e)}}))},clearEvent(o){delete this._subscribers[o]},clearAllEvents(){this._subscribers={}},getEvents(){return Object.keys(this._subscribers)},getSubscribersCount(o){return this._subscribers[o]?.length||0}};window.PubSub=PubSub;const I18nConfig={idiomaDefault:"pt",idiomasSuportados:["pt","en","es"],cache:{versao:"1.0.1",tempoExpiracaoCache:6048e5,prefixoChave:"portfolio_"},debug:!1},traducoesCache={};class I18nManager{constructor(){this.idiomaAtual=localStorage.getItem("idioma")||I18nConfig.idiomaDefault,this.traducoes={},this.carregando={},this.callbacks=[],this.precarregarIdiomas()}async precarregarIdiomas(){try{this.idiomaAtual!==I18nConfig.idiomaDefault&&await this.carregarTraducoes(I18nConfig.idiomaDefault),await this.carregarTraducoes(this.idiomaAtual),I18nConfig.debug&&console.log(`[I18n] Sistema inicializado com o idioma: ${this.idiomaAtual}`)}catch(o){console.error("[I18n] Erro ao pr\xe9-carregar tradu\xe7\xf5es:",o)}}async carregarTraducoes(o){if(this.traducoes[o])return this.traducoes[o];if(this.carregando[o])return this.carregando[o];const e=`${I18nConfig.cache.prefixoChave}traducao_${o}`,a=`${I18nConfig.cache.prefixoChave}traducao_versao_${o}`,i=`${I18nConfig.cache.prefixoChave}traducao_data_${o}`,n=localStorage.getItem(a),r=localStorage.getItem(i),s=localStorage.getItem(e);if(n===I18nConfig.cache.versao&&r&&Date.now()-parseInt(r)<I18nConfig.cache.tempoExpiracaoCache&&s){I18nConfig.debug&&console.log(`[I18n] Usando tradu\xe7\xf5es em cache para o idioma ${o}`);try{const e=JSON.parse(s);return this.traducoes[o]=e,e}catch(e){console.error(`[I18n] Erro ao processar cache de tradu\xe7\xf5es para ${o}:`,e)}}return this.carregando[o]=new Promise((async(n,r)=>{try{I18nConfig.debug&&console.log(`[I18n] Buscando tradu\xe7\xf5es do servidor para ${o}`);const r=await fetch(`i18n/${o}.json`);if(!r.ok)throw new Error(`Falha ao carregar arquivo de tradu\xe7\xe3o para ${o}: ${r.status}`);const s=await r.json();try{localStorage.setItem(e,JSON.stringify(s)),localStorage.setItem(a,I18nConfig.cache.versao),localStorage.setItem(i,Date.now().toString()),I18nConfig.debug&&console.log(`[I18n] Tradu\xe7\xf5es para ${o} armazenadas em cache`)}catch(o){console.warn("[I18n] N\xe3o foi poss\xedvel armazenar tradu\xe7\xf5es em cache:",o),this.limparCacheAntigo()}this.traducoes[o]=s,delete this.carregando[o],n(s)}catch(e){if(console.error(`[I18n] Erro ao carregar tradu\xe7\xf5es para ${o}:`,e),o!==I18nConfig.idiomaDefault){console.log(`[I18n] Tentando fallback para o idioma padr\xe3o (${I18nConfig.idiomaDefault})`);try{n(await this.carregarTraducoes(I18nConfig.idiomaDefault))}catch(o){console.error("[I18n] Tamb\xe9m falhou ao carregar o idioma padr\xe3o:",o),r(e)}}else r(e);delete this.carregando[o]}})),this.carregando[o]}async traduzir(o,e={},a=null,i=null){const n=a||this.idiomaAtual;try{const a=await this.carregarTraducoes(n);let r=this.buscarValorPorChave(a,o);if(null==r&&n!==I18nConfig.idiomaDefault){I18nConfig.debug&&console.log(`[I18n] Chave "${o}" n\xe3o encontrada em ${n}, usando fallback para ${I18nConfig.idiomaDefault}`);const e=await this.carregarTraducoes(I18nConfig.idiomaDefault);r=this.buscarValorPorChave(e,o)}return null==r&&(r=null!==i?i:o,I18nConfig.debug&&console.warn(`[I18n] Chave "${o}" n\xe3o encontrada em nenhum idioma. Usando fallback:`,r)),"object"==typeof r&&null!==r&&r.traducao&&(r=r.traducao),e&&Object.keys(e).length>0&&(r=this.substituirParametros(r,e)),r}catch(e){return console.error(`[I18n] Erro ao buscar tradu\xe7\xe3o para "${o}":`,e),null!==i?i:o}}traduzirSync(o,e={},a=null){let i=null;return this.traducoes[this.idiomaAtual]&&(i=this.buscarValorPorChave(this.traducoes[this.idiomaAtual],o)),null==i&&this.idiomaAtual!==I18nConfig.idiomaDefault&&this.traducoes[I18nConfig.idiomaDefault]&&(i=this.buscarValorPorChave(this.traducoes[I18nConfig.idiomaDefault],o)),null==i&&(i=null!==a?a:o),"object"==typeof i&&null!==i&&i.traducao&&(i=i.traducao),e&&Object.keys(e).length>0&&(i=this.substituirParametros(i,e)),i}buscarValorPorChave(o,e){if(!o||!e)return null;const a=e.split(".");let i=o;for(let o=0;o<a.length;o++){if(null==i||"object"!=typeof i)return null;i=i[a[o]]}return i}substituirParametros(o,e){if("string"!=typeof o)return o;let a=o;for(const[o,i]of Object.entries(e)){const e=new RegExp(`{{${o}}}`,"g");a=a.replace(e,i)}return a}async alterarIdioma(o){if(!I18nConfig.idiomasSuportados.includes(o))return console.error(`[I18n] Idioma n\xe3o suportado: ${o}`),!1;try{localStorage.setItem("idioma",o),localStorage.setItem("idioma_versao",I18nConfig.cache.versao),localStorage.setItem("idioma_data",Date.now().toString()),this.idiomaAtual=o,await this.carregarTraducoes(o);for(const e of this.callbacks)try{await e(o)}catch(o){console.error("[I18n] Erro em callback de altera\xe7\xe3o de idioma:",o)}return!0}catch(e){return console.error(`[I18n] Erro ao alterar idioma para ${o}:`,e),!1}}onIdiomaAlterado(o){"function"==typeof o&&this.callbacks.push(o)}removerCallback(o=null){this.callbacks=null===o?[]:this.callbacks.filter((e=>e!==o))}async traduzirElementos(o=document){try{if(o===document){const o=await this.traduzir("tituloDocumento");document.title=o;const e=document.querySelector('meta[name="description"]');if(e){const o=await this.traduzir("metaDescricao");e.setAttribute("content",o)}}o.querySelectorAll("[data-i18n]").forEach((async o=>{const e=o.getAttribute("data-i18n"),a=await this.traduzir(e);o.textContent=a})),o.querySelectorAll("[data-i18n-html]").forEach((async o=>{const e=o.getAttribute("data-i18n-html"),a=await this.traduzir(e);o.innerHTML=a})),o.querySelectorAll("[data-i18n-botao]").forEach((async o=>{const e=`botoes.${o.getAttribute("data-i18n-botao").split(".").pop()}`,a=await this.traduzir(e);o.innerHTML=a})),o.querySelectorAll("[data-i18n-placeholder]").forEach((async o=>{const e=o.getAttribute("data-i18n-placeholder"),a=await this.traduzir(e);o.setAttribute("placeholder",a)})),o.querySelectorAll("[data-i18n-alt]").forEach((async o=>{const e=o.getAttribute("data-i18n-alt"),a=await this.traduzir(e);o.setAttribute("alt",a)}))}catch(o){console.error("[I18n] Erro ao traduzir elementos:",o)}}limparCacheAntigo(){console.log("[I18n] Limpando cache antigo para liberar espa\xe7o");try{const o=[],e=`${I18nConfig.cache.prefixoChave}traducao_`;for(let a=0;a<localStorage.length;a++){const i=localStorage.key(a);if(i&&i.startsWith(e)){const a=i.replace(e,"").split("_")[0],n=localStorage.getItem(`${I18nConfig.cache.prefixoChave}traducao_data_${a}`);o.push({chave:i,idioma:a,data:n?parseInt(n):0})}}o.sort(((o,e)=>o.data-e.data));const a=Math.ceil(o.length/2);for(let e=0;e<a&&e<o.length;e++){const a=o[e];localStorage.removeItem(a.chave),localStorage.removeItem(`${I18nConfig.cache.prefixoChave}traducao_versao_${a.idioma}`),localStorage.removeItem(`${I18nConfig.cache.prefixoChave}traducao_data_${a.idioma}`),I18nConfig.debug&&console.log(`[I18n] Cache removido: ${a.chave}`)}console.log(`[I18n] ${a} itens de cache antigos removidos`)}catch(o){console.error("[I18n] Erro ao limpar cache:",o)}}getIdiomaAtual(){return this.idiomaAtual}getIdiomasSuportados(){return I18nConfig.idiomasSuportados}}window.i18n=new I18nManager,document.addEventListener("DOMContentLoaded",(()=>{"loading"===document.readyState?I18nConfig.debug&&console.log("[I18n] Aguardando DOMContentLoaded para inicializar as tradu\xe7\xf5es"):(I18nConfig.debug&&console.log("[I18n] DOM j\xe1 carregado, inicializando tradu\xe7\xf5es"),window.i18n.traduzirElementos())})),window.t=async function(o,e,a){return await window.i18n.traduzir(o,e,null,a)},window.tSync=function(o,e,a){return window.i18n.traduzirSync(o,e,a)},window.alterarIdioma=async function(o){const e=await window.i18n.alterarIdioma(o);return e&&await window.i18n.traduzirElementos(),e};const AppState={_state:{idioma:{atual:localStorage.getItem("idioma")||"pt",projetosCarregados:["pt"]},portfolio:{paginaAtual:0,emTransicao:!1},cache:{versao:"1.0.1",tempoExpiracaoCache:6048e5,prefixoChave:"portfolio_"},isInitialized:!1},get isInitialized(){return this._state.isInitialized},get idiomaAtual(){return this._state.idioma.atual},get idiomaProjetoAtual(){return this._state.idioma.atual},get paginaAtualPortfolio(){return this._state.portfolio.paginaAtual},get emTransicaoPortfolio(){return this._state.portfolio.emTransicao},get configCache(){return{...this._state.cache}},get idiomasProjetosCarregados(){return[...this._state.idioma.projetosCarregados]},setIdiomaAtual(o){if(!o)return this._state.idioma.atual;const e=this._state.idioma.atual;return this._state.idioma.atual=o,localStorage.setItem("idioma",o),localStorage.setItem("idioma_versao",this._state.cache.versao),localStorage.setItem("idioma_data",Date.now().toString()),window.i18n&&"function"==typeof window.alterarIdioma||window.PubSub&&PubSub.publish("idioma:alterado",{novo:o,antigo:e}),o},setIdiomaProjetoAtual(o){if(!o)return this._state.idioma.atual;const e=this._state.idioma.atual;return this._state.idioma.atual=o,window.PubSub&&PubSub.publish("portfolio:idiomaAlterado",{novo:o,antigo:e}),o},setPaginaPortfolio(o){const e=this._state.portfolio.paginaAtual;return this._state.portfolio.paginaAtual=o,window.PubSub&&PubSub.publish("portfolio:paginaAlterada",{nova:o,antiga:e}),o},setTransicaoPortfolio(o){return this._state.portfolio.emTransicao=o,window.PubSub&&PubSub.publish("portfolio:transicao",{emTransicao:o}),o},adicionarIdiomaCarregado(o){this._state.idioma.projetosCarregados.includes(o)||(this._state.idioma.projetosCarregados.push(o),window.PubSub&&PubSub.publish("portfolio:idiomaCarregado",{idioma:o}))},salvarEstado(){try{const o={idioma:this._state.idioma,portfolio:{paginaAtual:this._state.portfolio.paginaAtual}};return localStorage.setItem("app_state",JSON.stringify(o)),!0}catch(o){return console.error("Erro ao salvar estado da aplica\xe7\xe3o:",o),!1}},carregarEstado(){try{const o=localStorage.getItem("app_state");if(o){const e=JSON.parse(o);e.idioma&&(this._state.idioma={...this._state.idioma,...e.idioma}),e.portfolio&&(this._state.portfolio.paginaAtual=e.portfolio.paginaAtual)}return window.i18n&&window.i18n.onIdiomaAlterado((o=>{this._state.idioma.atual=o})),this._state.isInitialized=!0,!0}catch(o){return console.error("Erro ao carregar estado da aplica\xe7\xe3o:",o),this._state.isInitialized=!0,!1}},resetarEstado(){this._state.idioma.atual="pt",this._state.portfolio.paginaAtual=0,this._state.portfolio.emTransicao=!1,localStorage.removeItem("app_state"),window.PubSub&&PubSub.publish("app:estadoResetado",{})}};async function inicializarFuncionalidadesBasicas(){try{if(console.log("Iniciando funcionalidades b\xe1sicas..."),window.ImageManager.precarregarImagensCriticas&&(console.log("Iniciando precarregamento de imagens cr\xedticas"),await window.ImageManager.precarregarImagensCriticas()),window.ImageManager.aplicarRedimensionamentoResponsivo&&(console.log("Aplicando redimensionamento responsivo a todas as imagens"),document.querySelectorAll('img:not([src^="data:"])').forEach((o=>{o.complete?window.ImageManager.aplicarRedimensionamentoResponsivo(o):o.onload=function(){window.ImageManager.aplicarRedimensionamentoResponsivo(this)}}))),window.i18n){console.log("Inicializando sistema de tradu\xe7\xe3o");const o=localStorage.getItem("idioma");if(o)await window.alterarIdioma(o);else{const o=navigator.language.split("-")[0],e=["pt","en","es"].includes(o)?o:"pt";await window.alterarIdioma(e)}await window.i18n.traduzirElementos()}else console.error("Sistema de tradu\xe7\xe3o n\xe3o encontrado");window.AppState&&!window.AppState.isInitialized&&(console.log("Inicializando AppState"),await window.AppState.carregarEstado());const o=new URLSearchParams(window.location.search);if(o.has("enviado")&&"sucesso"===o.get("enviado")){console.log("Detectado par\xe2metro de sucesso no envio do formul\xe1rio");const o=gerenciarFeedbackPopup(),e=localStorage.getItem("ultimo_contato_nome"),a=localStorage.getItem("ultimo_assunto"),i=await o.mensagemEnvio(e,a),n=await o.obterTituloTraduzido();o.mostrar(i,n)}console.log("Inicializa\xe7\xe3o de funcionalidades b\xe1sicas conclu\xedda")}catch(o){console.error("Erro durante a inicializa\xe7\xe3o:",o)}}window.PubSub&&"loading"!==document.readyState?AppState.carregarEstado():window.PubSub&&document.addEventListener("DOMContentLoaded",(()=>{AppState.carregarEstado()})),window.AppState=AppState,document.addEventListener("DOMContentLoaded",(async function(){console.log("Iniciando carregamento do site..."),window.ImageManager?(console.log("ImageManager j\xe1 est\xe1 dispon\xedvel, iniciando precarregamento"),await inicializarFuncionalidadesBasicas()):(console.log("Aguardando carregamento do optimizer.js"),await new Promise((o=>{const e=setInterval((function(){window.ImageManager&&(clearInterval(e),console.log("ImageManager detectado, iniciando funcionalidades"),o())}),50);setTimeout((function(){window.ImageManager||(console.warn("ImageManager n\xe3o detectado ap\xf3s timeout, criando fallback"),window.ImageManager={precarregarImagensCriticas:function(){console.log("Fallback: Precarregando imagens cr\xedticas")},aplicarRedimensionamentoResponsivo:function(){console.log("Fallback: Tentativa de redimensionamento")}}),clearInterval(e),o()}),2e3)})),await inicializarFuncionalidadesBasicas())})),function(){window.lcpMonitoringActive=!0,window.ImageManager={verificarSuporteWebP:function(){return new Promise((o=>{const e=new Image;e.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",e.onload=e.onerror=function(){o(e.width>0&&e.height>0)}}))},configurarLazyLoading:function(){if(console.log("Configurando lazy loading de imagens"),"IntersectionObserver"in window){const o=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const a=e.target,i=a.getAttribute("data-src");i&&(a.src=i,a.removeAttribute("data-src")),o.unobserve(a)}}))}),{rootMargin:"50px",threshold:.1});document.querySelectorAll("img[data-src]").forEach((e=>{o.observe(e)}))}else document.querySelectorAll("img[data-src]").forEach((o=>{o.src=o.getAttribute("data-src"),o.removeAttribute("data-src")}));console.log("Lazy loading configurado")},otimizarTodasImagens:async function(){console.log("Otimizando imagens"),await this.verificarSuporteWebP()?(console.log("Navegador suporta WebP, trocando formato de imagens"),document.querySelectorAll('img:not([src^="data:"])').forEach((o=>{const e=o.getAttribute("src");if(e&&(e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png"))){const a=e.replace(/\.(jpg|jpeg|png)$/i,".webp");o.setAttribute("src",a),this.aplicarRedimensionamentoResponsivo(o)}}))):(console.log("Navegador n\xe3o suporta WebP, mantendo formato original das imagens"),document.querySelectorAll('img:not([src^="data:"])').forEach((o=>{this.aplicarRedimensionamentoResponsivo(o)})))},aplicarRedimensionamentoResponsivo:function(o){const e=o.parentElement.clientWidth;o.naturalWidth<100||o.src.includes("favicon")||(0!==e?o.naturalWidth>1.5*e&&(console.log(`Redimensionando imagem ${o.src} - tamanho atual: ${o.naturalWidth}px, cont\xeainer: ${e}px`),o.style.maxWidth="100%",!o.srcset)&&(o.src,o.sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",o.loading||(o.loading="lazy")):"complete"!==document.readyState&&window.addEventListener("load",(()=>{setTimeout((()=>this.aplicarRedimensionamentoResponsivo(o)),100)}),{once:!0}))},precarregarImagensCriticas:function(){["img/webp/header-bg.webp"].forEach((o=>{const e=document.createElement("link");e.rel="preload",e.as="image",e.href=o,document.head.appendChild(e)}))},carregarImagemFundo:function(){console.log("Carregando imagem de fundo do cabe\xe7alho");const o=document.querySelector("header");o&&o.classList.add("bg-loaded")},inicializar:function(){if("PerformanceObserver"in window)try{new PerformanceObserver((o=>{for(const e of o.getEntries())console.debug(`[Performance] ${e.name}: ${e.startTime.toFixed(0)}ms`)})).observe({type:"largest-contentful-paint",buffered:!0})}catch(o){console.error("Erro ao configurar PerformanceObserver",o)}"requestIdleCallback"in window?requestIdleCallback((()=>{this.carregarImagemFundo(),setTimeout((()=>this.configurarLazyLoading()),100),setTimeout((()=>this.otimizarTodasImagens()),200)}),{timeout:1e3}):setTimeout((()=>{this.carregarImagemFundo(),setTimeout((()=>this.configurarLazyLoading()),100),setTimeout((()=>this.otimizarTodasImagens()),200)}),500)}};const o=()=>{const o=document.querySelector('header p[data-i18n="header.role"]');o&&(o.classList.add("lcp-priority"),o.classList.add("lcp-element"),o.setAttribute("fetchpriority","high"))};if("loading"===document.readyState?document.addEventListener("readystatechange",(()=>{"interactive"===document.readyState&&o()})):o(),"PerformanceObserver"in window){const o=new PerformanceObserver((e=>{const a=e.getEntries(),i=a[a.length-1];console.log("LCP:",i.startTime,i),window.ImageManager.inicializar(),o.disconnect()}));o.observe({type:"largest-contentful-paint",buffered:!0})}else setTimeout((()=>window.ImageManager.inicializar()),300)}(),document.addEventListener("DOMContentLoaded",(()=>{document.querySelector("header.bg-loaded")||(console.log("Inicializando gerenciador de imagens via DOMContentLoaded (fallback)"),window.ImageManager.inicializar())}));const domCache={sidebar:null,toggleButton:null,menuIdiomas:null,portfolioContainer:null,form:null},CONFIG_CACHE={versao:AppState?AppState.configCache.versao:"1.0.1",tempoExpiracaoCache:AppState?AppState.configCache.tempoExpiracaoCache:6048e5,prefixoChave:AppState?AppState.configCache.prefixoChave:"portfolio_"};let idiomaAtual="pt",projetosPorPagina=3,paginaAtual=0;function initDOMCache(){domCache.sidebar=document.getElementById("sidebar"),domCache.toggleButton=document.getElementById("toggle-button"),domCache.menuIdiomas=document.querySelector(".menu-idiomas"),domCache.portfolioContainer=document.querySelector(".portfolio-container"),domCache.form=document.getElementById("formulario-contato")}function atualizarIconeSidebar(o){console.log("Atualizando \xedcone do sidebar para:",o?"X":"\u2630"),domCache.toggleButton&&(domCache.toggleButton.classList.add("trocando"),setTimeout((function(){domCache.toggleButton.innerHTML=o?'<span class="icone-menu entrando">\u2715</span>':'<span class="icone-menu entrando">\u2630</span>',setTimeout((function(){domCache.toggleButton.classList.remove("trocando")}),50)}),140))}window.carrosseis=window.carrosseis||{};const handlers={toggleSidebar:()=>{if(!domCache.sidebar)return;domCache.sidebar.classList.toggle("open");const o=domCache.sidebar.classList.contains("open");domCache.toggleButton.setAttribute("aria-expanded",o),domCache.sidebar.setAttribute("aria-label",o?"Menu de navega\xe7\xe3o aberto":"Menu de navega\xe7\xe3o fechado"),atualizarIconeSidebar(o);const e=document.getElementById("sidebar-overlay");e&&e.classList.toggle("ativo")},closeMenus:o=>{domCache.sidebar&&domCache.sidebar.classList.contains("open")&&(domCache.sidebar.contains(o.target)||domCache.toggleButton.contains(o.target)||handlers.toggleSidebar()),domCache.menuIdiomas&&domCache.menuIdiomas.classList.contains("ativo")&&(document.querySelector(".menu-idiomas-toggle").contains(o.target)||domCache.menuIdiomas.contains(o.target)||domCache.menuIdiomas.classList.remove("ativo"))},handleEscape:o=>{"Escape"===o.key&&(domCache.sidebar&&domCache.sidebar.classList.contains("open")&&handlers.toggleSidebar(),domCache.menuIdiomas&&domCache.menuIdiomas.classList.remove("ativo"))},handleNavigationWithTransition:o=>{const e=o.target.closest("a[href]");if(!e)return;const a=e.getAttribute("href");a.startsWith("#")||a.startsWith("http")||"_blank"===e.target||(o.preventDefault(),document.body.classList.remove("fade-in"),document.body.classList.add("fade-out"),setTimeout((()=>{window.location.href=a}),400))}};function traduzirPagina(o){console.log("Chamando fun\xe7\xe3o legada traduzirPagina(), redirecionando para window.alterarIdioma()"),window.alterarIdioma&&"function"==typeof window.alterarIdioma?window.alterarIdioma(o):console.error("Fun\xe7\xe3o window.alterarIdioma n\xe3o dispon\xedvel")}function criarOverlaySidebar(){console.log("Criando/verificando overlay do sidebar");let o=document.getElementById("sidebar-overlay");return o||(o=document.createElement("div"),o.id="sidebar-overlay",o.className="sidebar-overlay",document.body.appendChild(o),console.log("Overlay criado")),o.addEventListener("click",(function(){console.log("Overlay clicado - fechando sidebar"),domCache.sidebar&&(domCache.sidebar.classList.remove("open"),o.classList.remove("ativo"),domCache.toggleButton&&(domCache.toggleButton.setAttribute("aria-expanded","false"),domCache.toggleButton.innerHTML='<span class="icone-menu">\u2630</span>',domCache.toggleButton.classList.remove("menu-aberto")))})),o}function configurarSeletorIdiomas(){console.log("Configurando seletor de idiomas");const o=document.querySelector(".menu-idiomas-toggle"),e=document.querySelector(".menu-idiomas");o&&e?(o.addEventListener("click",(()=>{console.log("Bot\xe3o de idiomas clicado"),e.classList.toggle("ativo"),o.setAttribute("aria-expanded",e.classList.contains("ativo"))})),document.addEventListener("click",(a=>{o.contains(a.target)||e.contains(a.target)||(e.classList.remove("ativo"),o.setAttribute("aria-expanded","false"))})),document.querySelectorAll(".menu-idiomas .seletor-idioma").forEach((a=>{a.addEventListener("click",(async function(){const a=this.getAttribute("data-idioma");console.log("Idioma selecionado:",a),await window.alterarIdioma(a),document.querySelectorAll(".seletor-idioma").forEach((o=>{o.classList.remove("ativo")})),this.classList.add("ativo");const i=document.querySelector(".idioma-atual");i&&(i.textContent=a.toUpperCase()),e.classList.remove("ativo"),o.setAttribute("aria-expanded","false")}))})),console.log("Seletor de idiomas configurado")):console.error("Elementos do seletor de idiomas n\xe3o encontrados")}function inicializarCarrosseis(){console.log("Inicializando carross\xe9is");const o=criarCarrossel({barraSeletor:".idioma-barra",btnAnteriorSeletor:".idiomas-carrossel .carrossel-btn.anterior",btnProximoSeletor:".idiomas-carrossel .carrossel-btn.proximo"}),e=criarCarrossel({barraSeletor:".skills-barra",btnAnteriorSeletor:".skills-carrossel .carrossel-btn.anterior",btnProximoSeletor:".skills-carrossel .carrossel-btn.proximo"});window.carrosseis.idiomas=o,window.carrosseis.skills=e,console.log("Carross\xe9is inicializados")}function criarCarrossel(o){console.log("Criando carrossel:",o.barraSeletor);const e=document.querySelectorAll(o.barraSeletor),a=document.querySelector(o.btnAnteriorSeletor),i=document.querySelector(o.btnProximoSeletor);let n=0;if(!e.length||!a||!i)return console.warn("Elementos do carrossel n\xe3o encontrados para:",o.barraSeletor),{mostrar:()=>{},getAtual:()=>0};function r(a){a<0&&(a=e.length-1),a>=e.length&&(a=0),n=a,e.forEach((o=>o.classList.remove("ativo"))),e[n].classList.add("ativo"),console.log(`Carrossel ${o.barraSeletor} mostrando \xedndice:`,n)}return a.addEventListener("click",(()=>{console.log(`Bot\xe3o anterior clicado em ${o.barraSeletor}`),r(n-1)})),i.addEventListener("click",(()=>{console.log(`Bot\xe3o pr\xf3ximo clicado em ${o.barraSeletor}`),r(n+1)})),{mostrar:r,getAtual:()=>n}}function configurarOutrosEventos(){console.log("Configurando outros eventos da UI"),domCache.sidebar&&domCache.sidebar.querySelectorAll("a").forEach((o=>{o.addEventListener("click",(e=>{e.preventDefault(),domCache.sidebar.classList.remove("open"),document.getElementById("sidebar-overlay")?.classList.remove("ativo"),domCache.sidebar.setAttribute("aria-hidden",!0),domCache.toggleButton.setAttribute("aria-expanded",!1),domCache.toggleButton.innerHTML='<span class="icone-menu">\u2630</span>',domCache.toggleButton.classList.remove("menu-aberto");const a=o.getAttribute("href").substring(1),i=document.getElementById(a);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}))}));const o=document.getElementById("btn-topo");o&&(window.addEventListener("scroll",(()=>{window.scrollY>200?o.classList.add("mostrar"):o.classList.remove("mostrar"),atualizarMenuAtivo()})),o.addEventListener("click",(function(o){o.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})));const e=document.querySelector(".botao.fale-comigo");e&&e.addEventListener("click",(function(o){o.preventDefault();const e=document.getElementById("contato");e&&e.scrollIntoView({behavior:"smooth"})}));const a=document.querySelector(".sobre-mim-btn");a&&a.addEventListener("click",(function(o){o.preventDefault();const e=document.getElementById("sobre");e&&e.scrollIntoView({behavior:"smooth"})}));const i=document.querySelector('.header-icons .icon-link[href="#contato"]');i&&i.addEventListener("click",(function(o){o.preventDefault();const e=document.getElementById("contato");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}));const n=document.querySelector('.header-icons-bottom .icon-link[href="#contato"]');n&&n.addEventListener("click",(function(o){o.preventDefault();const e=document.getElementById("contato");e&&e.scrollIntoView({behavior:"smooth",block:"start"})})),console.log("Outros eventos da UI configurados")}function atualizarMenuAtivo(){const o=document.querySelectorAll("section"),e=document.querySelectorAll(".sidebar a");o.forEach((o=>{const a=o.offsetTop-100,i=o.getAttribute("id");window.scrollY>=a&&e.forEach((o=>{o.classList.remove("ativo"),o.getAttribute("href")===`#${i}`&&o.classList.add("ativo")}))}))}function iniciarAnimacaoSections(){console.log("Iniciando anima\xe7\xe3o das se\xe7\xf5es");const o=document.querySelectorAll("section");console.log(`Encontradas ${o.length} se\xe7\xf5es para animar`);const e=()=>{o.forEach((o=>{o.classList.add("visivel"),console.log(`Se\xe7\xe3o ${o.id||"sem ID"} marcada como vis\xedvel`)}))};if(!("IntersectionObserver"in window)||0===o.length)return console.log("Usando fallback para anima\xe7\xe3o das se\xe7\xf5es"),void e();try{const e=new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting&&(o.target.classList.add("visivel"),console.log(`Se\xe7\xe3o ${o.target.id||"sem ID"} tornou-se vis\xedvel`),e.unobserve(o.target))}))}),{threshold:.1,rootMargin:"50px"});o.forEach((o=>{e.observe(o),console.log(`Observando se\xe7\xe3o ${o.id||"sem ID"}`)}))}catch(o){console.error("Erro ao configurar o IntersectionObserver:",o),e()}console.log("Anima\xe7\xe3o das se\xe7\xf5es inicializada")}function inicializarPortfolio(){if(console.log("Inicializando cards do portf\xf3lio"),!domCache.portfolioContainer)return void console.error("Container do portf\xf3lio n\xe3o encontrado");if(window.location.pathname.includes("projeto.html")||window.location.pathname.endsWith("/projeto"))return void console.log("Estamos na p\xe1gina de projeto, n\xe3o inicializando portf\xf3lio");"undefined"==typeof projetosPortfolio&&(console.log("Definindo array de projetos do portf\xf3lio"),window.projetosPortfolio={pt:[{id:"analise_vendas",titulo:"An\xe1lise de Vendas com Power BI",imagem:"vendas.jpg",alt:"Dashboard de vendas criado no Power BI mostrando gr\xe1ficos de faturamento, produtos e regi\xf5es",link:"https://github.com/mateus-mg/powerbi-vendas",descricao:"Dashboard interativo para an\xe1lise de vendas utilizando Power BI. Inclui segmenta\xe7\xe3o por per\xedodo, produtos e regi\xf5es, com insights visuais para tomada de decis\xe3o.",tecnologias:["Power BI","DAX","Visualiza\xe7\xe3o"]},{id:"previsao_casas",titulo:"Previs\xe3o de Pre\xe7os de Casas (Python)",imagem:"pre\xe7os-casas.jpg",alt:"Gr\xe1fico de dispers\xe3o de pre\xe7os de casas previsto por modelo de machine learning",link:"https://github.com/mateus-mg/house-prices-prediction",descricao:"Modelo de machine learning para prever pre\xe7os de casas com Python. Utiliza regress\xe3o, an\xe1lise explorat\xf3ria e valida\xe7\xe3o cruzada.",tecnologias:["Python","Pandas","Scikit-learn"]},{id:"dashboard_rh",titulo:"Dashboard de RH",imagem:"rh.jpg",alt:"Dashboard de RH com indicadores de turnover, absente\xedsmo e satisfa\xe7\xe3o dos colaboradores",link:"https://github.com/mateus-mg/dashboard-rh",descricao:"Visualiza\xe7\xe3o de indicadores de RH em dashboard din\xe2mico. Permite an\xe1lise de turnover, absente\xedsmo e satisfa\xe7\xe3o dos colaboradores.",tecnologias:["Power BI","Excel","RH"]},{id:"analise_vendas",titulo:"An\xe1lise de Vendas com Power BI",imagem:"vendas.jpg",alt:"Dashboard de vendas criado no Power BI mostrando gr\xe1ficos de faturamento, produtos e regi\xf5es",link:"https://github.com/mateus-mg/powerbi-vendas",descricao:"Dashboard interativo para an\xe1lise de vendas utilizando Power BI. Inclui segmenta\xe7\xe3o por per\xedodo, produtos e regi\xf5es, com insights visuais para tomada de decis\xe3o.",tecnologias:["Power BI","DAX","Visualiza\xe7\xe3o"]},{id:"previsao_casas",titulo:"Previs\xe3o de Pre\xe7os de Casas (Python)",imagem:"pre\xe7os-casas.jpg",alt:"Gr\xe1fico de dispers\xe3o de pre\xe7os de casas previsto por modelo de machine learning",link:"https://github.com/mateus-mg/house-prices-prediction",descricao:"Modelo de machine learning para prever pre\xe7os de casas com Python. Utiliza regress\xe3o, an\xe1lise explorat\xf3ria e valida\xe7\xe3o cruzada.",tecnologias:["Python","Pandas","Scikit-learn"]},{id:"dashboard_rh",titulo:"Dashboard de RH",imagem:"rh.jpg",alt:"Dashboard de RH com indicadores de turnover, absente\xedsmo e satisfa\xe7\xe3o dos colaboradores",link:"https://github.com/mateus-mg/dashboard-rh",descricao:"Visualiza\xe7\xe3o de indicadores de RH em dashboard din\xe2mico. Permite an\xe1lise de turnover, absente\xedsmo e satisfa\xe7\xe3o dos colaboradores.",tecnologias:["Power BI","Excel","RH"]}],en:[],es:[]}),window.projetosPortfolio&&(window.projetosPortfolio.en&&0!==window.projetosPortfolio.en.length||(console.log("Copiando projetos PT para EN como fallback"),window.projetosPortfolio.en=JSON.parse(JSON.stringify(window.projetosPortfolio.pt))),window.projetosPortfolio.es&&0!==window.projetosPortfolio.es.length||(console.log("Copiando projetos PT para ES como fallback"),window.projetosPortfolio.es=JSON.parse(JSON.stringify(window.projetosPortfolio.pt))));let idiomaAtual="pt";if(idiomaAtual=window.i18n&&"function"==typeof window.i18n.getIdiomaAtual?window.i18n.getIdiomaAtual():window.i18n&&window.i18n.idiomaAtual?window.i18n.idiomaAtual:localStorage.getItem("idioma")||"pt",window.projetosPortfolio[idiomaAtual]||(console.log(`Idioma ${idiomaAtual} n\xe3o tem projetos definidos. Usando 'pt' como fallback.`),idiomaAtual="pt"),!window.projetosPortfolio[idiomaAtual]||0===window.projetosPortfolio[idiomaAtual].length)return console.warn("Nenhum projeto encontrado para o idioma atual:",idiomaAtual),void(domCache.portfolioContainer.innerHTML='<p class="portfolio-sem-projetos">Nenhum projeto dispon\xedvel no momento.</p>');const o=function(){return window.innerWidth<=768?1:window.innerWidth<=992?2:3};let projetosPorPagina=o(),paginaAtual=0;function renderizarCards(){try{domCache.portfolioContainer.innerHTML="";const o=window.projetosPortfolio[idiomaAtual],e=paginaAtual*projetosPorPagina,a=Math.min(e+projetosPorPagina,o.length),i=o.slice(e,a);console.log(`Renderizando ${i.length} projetos (p\xe1gina ${paginaAtual+1} de ${Math.ceil(o.length/projetosPorPagina)})`),i.forEach((o=>{const e=document.createElement("div");e.className="portfolio-card",e.setAttribute("data-id",o.id);const a=o.tecnologias.map((o=>`<span class="portfolio-tag">${o}</span>`)).join("");e.innerHTML=`\n                    <div class="portfolio-image-container">\n                        <picture>\n                            <source srcset="img/webp/${o.imagem.replace(/\.(jpg|jpeg|png)$/i,".webp")}" type="image/webp">\n                            <img src="img/${o.imagem}" alt="${o.alt}" class="portfolio-img">\n                        </picture>\n                    </div>\n                    <div class="portfolio-card-content">\n                        <h3 class="portfolio-title">${o.titulo}</h3>\n                        <p class="portfolio-desc">${o.descricao}</p>\n                        <div class="portfolio-tags">\n                            ${a}\n                        </div>\n                        <div class="portfolio-buttons">\n                            <a href="${o.link}" target="_blank" rel="noopener noreferrer" class="portfolio-btn">\n                                <i class="fas fa-external-link-alt"></i> Ver GitHub\n                            </a>\n                            <a href="projeto.html?id=${o.id}" class="portfolio-btn relatorio-btn">\n                                <i class="fas fa-file-alt"></i> Relat\xf3rio\n                            </a>\n                        </div>\n                    </div>\n                `,domCache.portfolioContainer.appendChild(e)})),setTimeout((()=>{!function(){console.log("Renderizando bot\xf5es de navega\xe7\xe3o do portf\xf3lio");const o=window.projetosPortfolio[idiomaAtual].length,e=Math.ceil(o/projetosPorPagina);console.log(`Total de projetos: ${o}, Projetos por p\xe1gina: ${projetosPorPagina}, Total de p\xe1ginas: ${e}`);const a=document.querySelector(".portfolio-navegacao"),i=document.querySelector(".portfolio-navegacao-container");if(i?(console.log("Removendo container de navega\xe7\xe3o existente"),i.remove()):a&&(console.log("Removendo navega\xe7\xe3o existente"),a.remove()),e<=1)return void console.log("Apenas uma p\xe1gina de projetos. Navega\xe7\xe3o n\xe3o necess\xe1ria.");console.log("Criando novos bot\xf5es de navega\xe7\xe3o");const n=document.getElementById("portfolio");if(!n)return void console.error("Se\xe7\xe3o de portf\xf3lio n\xe3o encontrada");const r=document.createElement("div");r.className="portfolio-navegacao",Object.assign(r.style,{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px",margin:"30px auto",padding:"20px 0",visibility:"visible",opacity:"1",width:"100%",maxWidth:"300px",position:"relative",zIndex:"100"});const s=document.createElement("button");s.className="portfolio-nav-btn anterior",s.innerHTML='<i class="fas fa-chevron-left"></i> Anterior',s.disabled=paginaAtual<=0,Object.assign(s.style,{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"10px 20px",backgroundColor:"var(--cor-destaque)",color:"white",border:"none",borderRadius:"5px",cursor:paginaAtual<=0?"not-allowed":"pointer",fontWeight:"bold",minWidth:"100px",opacity:paginaAtual<=0?"0.5":"1"}),s.addEventListener("click",(()=>{console.log("Bot\xe3o anterior clicado"),paginaAtual>0&&(paginaAtual--,window.AppState&&AppState.setPaginaPortfolio(paginaAtual),renderizarCards())}));const c=document.createElement("button");c.className="portfolio-nav-btn proximo",c.innerHTML='Pr\xf3ximo <i class="fas fa-chevron-right"></i>',c.disabled=paginaAtual>=e-1,Object.assign(c.style,{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"10px 20px",backgroundColor:"var(--cor-destaque)",color:"white",border:"none",borderRadius:"5px",cursor:paginaAtual>=e-1?"not-allowed":"pointer",fontWeight:"bold",minWidth:"100px",opacity:paginaAtual>=e-1?"0.5":"1"}),c.addEventListener("click",(()=>{console.log("Bot\xe3o pr\xf3ximo clicado"),paginaAtual<e-1&&(paginaAtual++,window.AppState&&AppState.setPaginaPortfolio(paginaAtual),renderizarCards())})),r.appendChild(s),r.appendChild(c);const d=n.querySelector(".conteudo-section");d&&domCache.portfolioContainer?(d.appendChild(r),console.log("Bot\xf5es de navega\xe7\xe3o inseridos diretamente ap\xf3s os cards")):(console.error("N\xe3o foi poss\xedvel encontrar o local adequado para inserir os bot\xf5es"),n.appendChild(r),console.log("Bot\xf5es inseridos no final da se\xe7\xe3o portfolio (fallback)")),console.log("Verifica\xe7\xe3o final da navega\xe7\xe3o:"),setTimeout((()=>{document.querySelector(".portfolio-navegacao")?console.log("\u2705 Navega\xe7\xe3o inserida com sucesso!"):console.error("\u274c Falha ao inserir navega\xe7\xe3o")}),0)}()}),50)}catch(o){console.error("Erro durante a renderiza\xe7\xe3o dos cards:",o)}}window.AppState&&"number"==typeof AppState.paginaAtualPortfolio&&(paginaAtual=AppState.paginaAtualPortfolio),window.idiomaAtual=idiomaAtual,window.projetosPorPagina=projetosPorPagina,window.paginaAtual=paginaAtual,renderizarCards(),window.renderizarCards=renderizarCards,window.addEventListener("resize",(()=>{const e=o();e!==projetosPorPagina&&(projetosPorPagina=e,window.projetosPorPagina=projetosPorPagina,renderizarCards())}))}function inicializarNavegacaoExperiencias(){console.log("Inicializando navega\xe7\xe3o das experi\xeancias (cursos e forma\xe7\xf5es)"),document.querySelectorAll(".experiencia-nav-btn").forEach((o=>{o.addEventListener("click",(()=>{const e=o.getAttribute("data-target"),a=document.getElementById(e);if(!a)return void console.error(`Container ${e} n\xe3o encontrado`);const i=a.querySelectorAll(".experiencia-pagina");if(i.length<=1)return void console.log("Apenas uma p\xe1gina dispon\xedvel, navega\xe7\xe3o desnecess\xe1ria");let n=0;i.forEach(((o,e)=>{o.classList.contains("ativo")&&(n=e)}));let r=o.classList.contains("anterior")?n-1:n+1;if(r<0&&(r=0),r>=i.length&&(r=i.length-1),r===n)return;i.forEach((o=>o.classList.remove("ativo"))),i[r].classList.add("ativo");const s=o.parentElement,c=s.querySelector(".anterior"),d=s.querySelector(".proximo");c&&(c.disabled=0===r),d&&(d.disabled=r===i.length-1),console.log(`Navega\xe7\xe3o em ${e}: movido para p\xe1gina ${r+1} de ${i.length}`)}))})),console.log("Navega\xe7\xe3o das experi\xeancias inicializada")}function configurarEventosTeclado(){console.log("Configurando eventos de teclado"),document.addEventListener("keydown",(o=>{"Escape"===o.key&&(domCache.sidebar&&domCache.sidebar.classList.contains("open")&&handlers.toggleSidebar(),domCache.menuIdiomas&&domCache.menuIdiomas.classList.remove("ativo"))}));const o=domCache.sidebar?domCache.sidebar.querySelectorAll("a"):[];o.forEach(((e,a)=>{e.addEventListener("keydown",(e=>{if("ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let i=a+("ArrowDown"===e.key?1:-1);i<0&&(i=o.length-1),i>=o.length&&(i=0),o[i].focus()}}))})),console.log("Eventos de teclado configurados")}function copiarTexto(o){navigator.clipboard.writeText(o).then((()=>{console.log("Texto copiado para a \xe1rea de transfer\xeancia:",o)})).catch((o=>{console.error("Erro ao copiar texto:",o)}))}function exibirMensagemCopiar(){const o=document.createElement("div");o.className="mensagem-copiar",o.innerText="Texto copiado!",document.body.appendChild(o),setTimeout((()=>{o.classList.add("mostrar")}),10),setTimeout((()=>{o.classList.remove("mostrar"),setTimeout((()=>{document.body.removeChild(o)}),300)}),2e3)}function configurarBotaoCopiar(){const o=document.getElementById("btn-copiar-email");o&&o.addEventListener("click",(()=>{copiarTexto("mateus.mg@outlook.com"),exibirMensagemCopiar()}))}function configurarFormularioContato(){console.log("Configurando formul\xe1rio de contato"),domCache.form?(domCache.form.addEventListener("submit",(async function(o){o.preventDefault(),console.log("Formul\xe1rio de contato enviado");const e=document.getElementById("nome").value,a=document.getElementById("email").value,i=document.getElementById("assunto").value;document.getElementById("mensagem").value,localStorage.setItem("ultimo_contato_nome",e),localStorage.setItem("ultimo_contato_email",a),localStorage.setItem("ultimo_assunto",i);const n=document.querySelector('#formulario-contato button[type="submit"]'),r=n.innerHTML;try{n.disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Enviando...',await new Promise((o=>setTimeout(o,1500))),console.log("Formul\xe1rio enviado com sucesso"),domCache.form.reset(),window.location.href="?enviado=sucesso"}catch(o){console.error("Erro ao enviar formul\xe1rio:",o),alert("Erro ao enviar formul\xe1rio. Por favor, tente novamente."),n.disabled=!1,n.innerHTML=r}})),console.log("Formul\xe1rio de contato configurado")):console.warn("Formul\xe1rio de contato n\xe3o encontrado")}function configMenuIdiomas(){const o=document.querySelector(".menu-idiomas-toggle"),e=document.querySelector(".menu-idiomas");o&&e&&(o.addEventListener("click",(function(){e.classList.toggle("ativo"),o.setAttribute("aria-expanded",e.classList.contains("ativo"))})),document.addEventListener("click",(function(a){o.contains(a.target)||e.contains(a.target)||(e.classList.remove("ativo"),o.setAttribute("aria-expanded","false"))})),document.addEventListener("keydown",(function(a){"Escape"===a.key&&e.classList.contains("ativo")&&(e.classList.remove("ativo"),o.setAttribute("aria-expanded","false"))}))),document.querySelectorAll(".seletor-idioma").forEach((a=>{a.addEventListener("click",(async function(){const a=this.getAttribute("data-idioma"),i=new URLSearchParams(window.location.search).get("id");window.i18n?await window.alterarIdioma(a):localStorage.setItem("idioma",a),atualizarUIIdioma(a),i&&await carregarDetalhes(i,a),e&&(e.classList.remove("ativo"),o&&o.setAttribute("aria-expanded","false"))}))}))}function atualizarUIIdioma(o){const e=document.querySelector(".idioma-atual");e&&(e.textContent=o.toUpperCase()),document.querySelectorAll(".seletor-idioma").forEach((e=>{e.classList.remove("ativo"),e.getAttribute("data-idioma")===o&&e.classList.add("ativo")}))}async function mostrarErro(o){if(console.log("Mostrando mensagem de erro:",o),window.i18n)try{o=await window.i18n.traduzir("erros.carregamento_projeto",{},null,o)}catch(o){console.error("Erro ao traduzir mensagem de erro:",o)}const e=document.querySelector(".projeto-conteudo"),a=document.getElementById("projeto-titulo");if(a&&(a.textContent="Erro"),e)e.innerHTML=`\n            <div class="projeto-erro">\n                <h2>Ocorreu um erro</h2>\n                <p>${o}</p>\n                <a href="index.html#portfolio" class="botao">Voltar ao Portf\xf3lio</a>\n            </div>\n        `;else{const e=document.querySelector(".main-content");e&&(e.innerHTML=`\n                <h1 class="projeto-titulo-simples">Erro</h1>\n                <div class="projeto-conteudo">\n                    <div class="projeto-erro">\n                        <h2>Ocorreu um erro</h2>\n                        <p>${o}</p>\n                        <a href="index.html#portfolio" class="botao">Voltar ao Portf\xf3lio</a>\n                    </div>\n                </div>\n            `)}}async function carregarDetalhes(o,e){if(console.log(`Carregando detalhes do projeto ${o} no idioma ${e}`),[{id:"projeto-titulo",tipo:"ID"},{selector:".projeto-conteudo",tipo:"Class"},{id:"projeto-descricao-curta",tipo:"ID"},{id:"projeto-descricao-longa",tipo:"ID"}].filter((o=>"ID"===o.tipo?!document.getElementById(o.id):!document.querySelector(o.selector))).length>0){if(!window.location.pathname.includes("projeto.html")&&!window.location.pathname.endsWith("/projeto"))return void(window.location.href=`projeto.html?id=${o}`);criarEstruturaBasica(o)}try{let a;if(window.i18n){if(a=await window.i18n.traduzir(`projetos.${o}`),!a||"string"==typeof a)throw new Error(`Projeto n\xe3o encontrado no idioma ${e}`)}else{const i=await fetch(`i18n/${e}.json`);if(!i.ok)throw new Error(`Falha ao carregar arquivo de tradu\xe7\xe3o para ${e}: ${i.status}`);const n=await i.json();if(a=n.projetos?.[o],!a)throw new Error(`Projeto n\xe3o encontrado no idioma ${e}`)}document.title=`${a.titulo} - Mateus Galv\xe3o`;const i=document.getElementById("projeto-titulo");i&&(i.textContent=a.titulo);const n=document.getElementById("projeto-descricao-curta");n&&(n.textContent=a.descricao);const r=document.getElementById("projeto-descricao-longa");r&&(a.descricao_longa?(r.innerHTML=a.descricao_longa,r.classList.add("visible"),r.classList.remove("hidden")):(r.classList.add("hidden"),r.classList.remove("visible")));const s=document.querySelector(".tags-container");s&&a.tecnologias&&Array.isArray(a.tecnologias)&&(s.innerHTML=a.tecnologias.map((o=>`<span class="portfolio-tag">${o}</span>`)).join(""));const c=document.getElementById("projeto-relatorio");if(c){const o=c.querySelector(".relatorio-conteudo");if(o)if(a.relatorio)o.innerHTML=a.relatorio,c.classList.add("visible"),c.classList.remove("hidden");else{const e=window.i18n?await window.i18n.traduzir("projetos.relatorio_padrao"):"Este projeto ainda n\xe3o possui um relat\xf3rio detalhado.";o.innerHTML=e,c.classList.add("visible"),c.classList.remove("hidden")}}const d=document.querySelector(".github-btn");d&&(d.href=`https://github.com/mateus-mg/${o}`),atualizarMetaTags(a.titulo,a.descricao),window.PubSub&&PubSub.publish("projeto:detalhesCarregados",{projetoId:o,idioma:e,titulo:a.titulo})}catch(a){console.error("Erro ao carregar detalhes do projeto:",a);let i="Erro ao carregar detalhes do projeto";if(window.i18n)try{i=await window.i18n.traduzir("erros.carregamento_projeto")}catch(o){console.error("Erro ao traduzir mensagem de erro:",o)}mostrarErro(i),window.PubSub&&PubSub.publish("projeto:erroCarregamento",{projetoId:o,idioma:e,erro:a.message})}}function criarEstruturaBasica(o){const e=document.querySelector(".main-content");e?(e.innerHTML='\n        <div class="projeto-container">\n            <h1 id="projeto-titulo">Carregando projeto...</h1>\n            <p id="projeto-descricao-curta">Aguarde enquanto carregamos os detalhes do projeto.</p>\n            \n            <div class="projeto-conteudo">\n                <div id="projeto-descricao-longa"></div>\n                \n                <div class="projeto-meta">\n                    <h3>Tecnologias</h3>\n                    <div class="tags-container">\n                        <span class="portfolio-tag">Carregando...</span>\n                    </div>\n                </div>\n                \n                <div id="projeto-relatorio">\n                    <h2>Relat\xf3rio do Projeto</h2>\n                    <div class="relatorio-conteudo"></div>\n                </div>\n                \n                <div class="projeto-links">\n                    <a href="#" class="botao github-btn" target="_blank" rel="noopener">\n                        <i class="fab fa-github"></i> Ver no GitHub\n                    </a>\n                    <a href="index.html#portfolio" class="botao">Voltar ao Portf\xf3lio</a>\n                </div>\n            </div>\n        </div>\n    ',console.log("Estrutura b\xe1sica criada para o projeto:",o)):console.error("Elemento main-content n\xe3o encontrado")}function atualizarMetaTags(o,e){const a=document.querySelector('meta[name="description"]');a&&a.setAttribute("content",e);const i=document.querySelector('meta[property="og:title"]');i&&i.setAttribute("content",`${o} - Mateus Galv\xe3o`);const n=document.querySelector('meta[property="og:description"]');n&&n.setAttribute("content",e),console.log("Meta tags atualizadas para SEO")}document.addEventListener("DOMContentLoaded",(function(){if(console.log("Inicializando o site..."),initDOMCache(),!domCache.sidebar||!domCache.toggleButton)return void console.error("Elementos cr\xedticos n\xe3o encontrados");domCache.toggleButton.addEventListener("click",handlers.toggleSidebar),document.addEventListener("click",handlers.closeMenus),document.addEventListener("keydown",handlers.handleEscape),document.addEventListener("click",handlers.handleNavigationWithTransition),criarOverlaySidebar(),configurarEventosTeclado(),iniciarAnimacaoSections(),configurarSeletorIdiomas(),inicializarCarrosseis(),inicializarPortfolio(),configurarFormularioContato(),configurarOutrosEventos(),inicializarNavegacaoExperiencias();const o=localStorage.getItem("idioma");o&&window.alterarIdioma(o),console.log("Inicializa\xe7\xe3o do site conclu\xedda")})),window.atualizarIconeSidebar=atualizarIconeSidebar,window.inicializarPortfolio=inicializarPortfolio,configurarBotaoCopiar(),window.navegarPortfolio=function(o){if(console.log(`Bot\xe3o de navega\xe7\xe3o ${o} clicado`),!window.projetosPortfolio)return void console.error("Array de projetos n\xe3o encontrado");const e=window.projetosPortfolio[window.idiomaAtual];if(!e||0===e.length)return void console.error("Nenhum projeto encontrado para o idioma atual:",window.idiomaAtual);const a=Math.ceil(e.length/window.projetosPorPagina);if("anterior"===o&&window.paginaAtual>0)window.paginaAtual--,window.AppState&&window.AppState.setPaginaPortfolio(window.paginaAtual);else{if(!("proximo"===o&&window.paginaAtual<a-1))return void console.log(`Navega\xe7\xe3o ${o} n\xe3o poss\xedvel: p\xe1gina atual = ${window.paginaAtual}, total de p\xe1ginas = ${a}`);window.paginaAtual++,window.AppState&&window.AppState.setPaginaPortfolio(window.paginaAtual)}const i=document.querySelector(".portfolio-navegacao .anterior"),n=document.querySelector(".portfolio-navegacao .proximo");i&&(i.disabled=window.paginaAtual<=0,i.style.opacity=window.paginaAtual<=0?"0.5":"1",i.style.cursor=window.paginaAtual<=0?"not-allowed":"pointer"),n&&(n.disabled=window.paginaAtual>=a-1,n.style.opacity=window.paginaAtual>=a-1?"0.5":"1",n.style.cursor=window.paginaAtual>=a-1?"not-allowed":"pointer");const r=document.querySelector(".portfolio-navegacao");r&&(r.style.display="flex",r.style.visibility="visible",r.style.opacity="1"),"function"==typeof window.renderizarCards?window.renderizarCards():(console.log("Fun\xe7\xe3o renderizarCards n\xe3o est\xe1 acess\xedvel, tentando inicializarPortfolio"),"function"==typeof window.inicializarPortfolio&&window.inicializarPortfolio())},window.addEventListener("load",(()=>{document.body.classList.add("fade-in")})),console.log("Script principal carregado com sucesso"),document.addEventListener("DOMContentLoaded",(async function(){console.log("Inicializando p\xe1gina de detalhes do projeto");try{if(!window.location.pathname.includes("projeto.html")&&!window.location.pathname.endsWith("/projeto"))return void console.log("N\xe3o estamos na p\xe1gina de detalhes do projeto, pulando inicializa\xe7\xe3o");const o=new URLSearchParams(window.location.search||"").get("id");if(!o)return console.error("ID do projeto n\xe3o encontrado na URL"),void(window.location.href="index.html#portfolio");console.log(`Carregando detalhes do projeto: ${o}`),window.AppState?.isInitialized||(console.log("Aguardando inicializa\xe7\xe3o do AppState..."),await new Promise((o=>{const e=setInterval((()=>{window.AppState?.isInitialized&&(clearInterval(e),o())}),100);setTimeout((()=>{clearInterval(e),o()}),3e3)}))),window.i18n&&!window.i18n.initialized&&(console.log("Aguardando inicializa\xe7\xe3o do sistema i18n..."),await new Promise((o=>{const e=setInterval((()=>{window.i18n.getIdiomaAtual&&(clearInterval(e),o())}),100);setTimeout((()=>{clearInterval(e),o()}),3e3)})));const idiomaAtual=window.AppState?.idiomaAtual||window.i18n?.getIdiomaAtual()||localStorage.getItem("idioma")||"pt";console.log("Usando idioma:",idiomaAtual),atualizarUIIdioma(idiomaAtual),await carregarDetalhes(o,idiomaAtual)}catch(o){console.error("Erro na inicializa\xe7\xe3o da p\xe1gina de detalhes:",o),mostrarErro("Ocorreu um erro ao carregar a p\xe1gina de detalhes")}configMenuIdiomas()})),document.addEventListener("DOMContentLoaded",(async function(){try{let idiomaAtual;idiomaAtual=window.i18n&&window.i18n.getIdiomaAtual?window.i18n.getIdiomaAtual():window.AppState?window.AppState.idiomaAtual:localStorage.getItem("idioma")||"pt",console.log("Carregando dados de SEO para o idioma:",idiomaAtual);const o=await fetch("js/seo.json");if(!o.ok)throw new Error("Falha ao carregar dados SEO");const e=await o.json();if(window.i18n)try{if("pt"!==idiomaAtual&&(e.description=await window.i18n.traduzir("seo.description")||e.description,e["@graph"]))for(const o of e["@graph"])o.name&&(o.name=await window.i18n.traduzir("seo.name")||o.name),o.description&&(o.description=await window.i18n.traduzir("seo.description")||o.description),o.headline&&(o.headline=await window.i18n.traduzir("seo.headline")||o.headline),o.jobTitle&&(o.jobTitle=await window.i18n.traduzir("header.role")||o.jobTitle)}catch(o){console.error("Erro ao traduzir dados de SEO:",o)}const a=document.createElement("script");a.type="application/ld+json",a.textContent=JSON.stringify(e),document.head.appendChild(a),console.log("Dados de SEO carregados com sucesso")}catch(o){console.error("Erro ao carregar dados SEO JSON-LD:",o);try{const o=await fetch("js/seo.json",{headers:{Accept:"text/plain"}}),e=await o.text(),a=JSON.parse(e),i=document.createElement("script");i.type="application/ld+json",i.textContent=JSON.stringify(a),document.head.appendChild(i),console.log("Dados de SEO carregados via fallback")}catch(o){console.error("Erro no fallback de SEO:",o)}}}));